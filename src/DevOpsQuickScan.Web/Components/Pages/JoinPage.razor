@page "/join"
@rendermode InteractiveServer

<PageTitle>Home</PageTitle>

<div class="quickscan-card">
    <div class="quickscan-card">
        <img src="@Assets["/img/logo.jpg"]" width="300" alt="DevOps Quickscan Logo" class="quickscan-logo"/>

        <h3>Join a DevOps Quickscan</h3>

        @if (string.IsNullOrEmpty(sessionName))
        {
            <p class="text-danger">Invalid or expired session code.</p>
        }
        else if (!joined)
        {
            <p>You’re about to join session: <strong>@sessionName</strong></p>

            <EditForm Model="this" OnValidSubmit="JoinSession" FormName="Name">
                <InputText class="form-control mb-3" @bind-Value="userName" placeholder="Enter your name" />
                <button type="submit" class="btn btn-primary">Join Session</button>
            </EditForm>
        }
        else
        {
            <h4>Welcome, @userName!</h4>
            <p>You’ve joined: <strong>@sessionName</strong></p>
        }
    </div>
</div>
